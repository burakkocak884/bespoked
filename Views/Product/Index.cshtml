@using profisee_project.Models
@{
    var products = ViewBag.Products;
}

<div>
  <a class="btn btn-outline-success" asp-controller="Product" asp-action="New" asp-route-id = "">Add a New Product to the Invertory</a>
</div>
<div class = "tableFixHead">
 <table id="products-grid">
                  <thead>
                    <tr>
                        <th class = "medium-column">Name</th>
                        <th class = "large-column">Manufacturer</th>
                        <th class = "medium-column">Style</th>
                        <th class = "small-column">Purchase $</th>
                        <th class = "small-column">Sale $</th>
                        <th class = "small-column">Stock</th>
                        <th class = "small-column">Comm %</th>
                    </tr>
                  </thead>
                    @if(products != null){
                      @foreach(Product product in products){
                            string quantitiyColumnValueClass = product.QuantityOnHand == 0 ? "small-column-number-zero" : "small-column-number";

                            <tr>
                              <td class = "medium-column"><a class="btn btn-light" asp-controller="Product" asp-action="Update" asp-route-productId = "@product.productId" >@product.Name</a></td>
                              <td class = "large-column">@product.Manufacturer</td>
                              <td class = "medium-column">@product.Style</td>
                              <td class = "small-column-number">@product.PurchasePrice.ToString("N2")</td>
                              <td class = "small-column-number">@product.SalePrice.ToString("N2")</td>
                              <td class = "@quantitiyColumnValueClass">@product.QuantityOnHand</td>
                              <td class = "small-column-number">@product.CommissionPercentage</td>
                            </tr>
                      }
                    }
    </table>
</div>
    <style>
#products-grid {
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

#products-grid td, #products-grid th {
  border: 1px solid #ddd;
  padding: 8px;
}

#products-grid tr:nth-child(even){background-color: #f2f2f2;}
#products-grid tr:nth-child(odd){background-color: white;}


@* #products-grid tr:hover {background-color: #ddd;} *@

#products-grid th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #f7b2a1;
  color: white;
}

.small-column{
    width: 10%;
}
.medium-column{
    width: 14%;
}
.small-column-number{
    width: 10%;
    text-align: right;
}
.small-column-number-zero{
    width: 10%;
    text-align: right;
    color: red;
}
.medium-column-number{
    width: 14%;
    text-align: right;
}
.large-column{
    width: 32%;
}
.tableFixHead {
        overflow-y: auto; /* make the table scrollable if height is more than 200 px  */
        height: 76vh; /* gives an initial height of 200px to the table */
        width: 100%;
      }
.tableFixHead thead th {
  position: sticky; /* make the table heads sticky */
  top: 0px; /* table head will be placed from the top of the table and sticks to it */
}
</style>